# Firemation
![Firemation-logo](https://github.com/Geranard/firemation/assets/73337984/e6baa5bd-d908-4319-ad05-615f2ad94e3a)

Firemation is a solution for simplifying your network security tasks. With Firemation, management of push access lists done effortlessly across leading platforms such as Cisco ASA, Fortinet Fortigate, and Palo Alto Networks NGFW, seamlessly integrated with Netbox as SoT for enhanced efficiency and ease of use.

The tool is tested in:
- Ubuntu Server 20.04.6 VMWare
- Python version 3.8.10
- Netbox version 4.3
- GNS3 version 2.2.43
- Cisco ASA version 9.8.3
- Fortigate Fortinet version 6.0.3
- Palo Alto Networks version 9.0.4

# Features
- Bulk Create Rule to Cisco ASA, Fortinet Fortigate, and Palo Alto Networks NGFW using CSV
- Read Rule from Cisco ASA, Fortinet Fortigate, and Palo Alto Networks NGFW
- Update Rule for Fortinet Fortigate and Palo Alto Networks NGFW
- Delete Rule for Fortinet Fortigate and Palo Alto Networks NGFW
- Manage Firewall Information for Firemation
- Manage Firewall Credential for Firemation

# Steps to Start:
1. Clone the repository: `git clone https://github.com/Geranard/firemation.git`
2. Install Python package "virtualenv": `pip install virtualenv`
3. Make virtual environment: `virtualenv venv`
4. Activate the virtual environment: `source ./venv/bin/activate`
5. Install python library: `pip install -r requirements.txt`
6. You can follow https://docs.netbox.dev/en/stable/installation/ for instalation. Using docker is recommended and follow the guide from here: https://github.com/netbox-community/netbox-docker
7. Change your directory to /firemation/
8. Initiate django to spawn manage.py: `django-admin startproject firemation_project .`
9. Modify "change_this_env" file and rename it to ".env".  Change this element as following:
	- FIREMATION_SECRET_KEY can be generated by running this script: `python -c 'from django.core.management.utils import get_random_secret_key; print(get_random_secret_key())'`
	- FIREMATION_FERNET_KEY can be generated by running this script: `python -c 'from cryptography.fernet import Fernet; print(Fernet.generate_key().decode())'`
	- Create admin user from terminal if using docker for netbox: `docker compose exec netbox /opt/netbox/netbox/manage.py createsuperuser`
	- Login to netbox, navigate to settings -> API Tokens, click Add and choose user, then copy the API key to `FIREMATION_NETBOX_SECRET_KEY` in ".env" file and click create.
	- FIREMATION_NETBOX_PORT can be found from the `docker-compose.override.yml`
	- FIREMATION_NETBOX_IP can be found from `ifconfig`
10. Migrate model from django:
	- python manage.py makemigrations firemation_app
	- python manage.py migrate firemation_app
11. Run the project: python manage.py runserver 8001
12. Make custom fields in netbox, navigate to Customization -> Custom Fields:
	- Label: Fortinet Port , Content types: IPAM > Prefix, Name: FORTIPORT, Type: Multiple objects, Object type: DCIM > Interface
	- Label: Firewall Interface, Content types: IPAM > Prefix, Name: FWINT, Type: Object, Object type: DCIM > Interface
	- Label: Firewall IP, Content types: Core > Data Source and IPAM > Prefix, Name: FWIP, Type: Object, Object type: IPAM > IP Address
	- Label: Firewall, Content types: IPAM > IP Address, Name: Firewall, Type: Boolean, Object type: -
13. Populate Netbox IPAM from IP Addresses to Prefixes.
